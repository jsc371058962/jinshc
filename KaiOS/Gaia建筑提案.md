# Gaia/建筑提案

- 针对Gaia应用程序新的统一应用程序架构的提案
- 版本拟议架构尚未最终确定，仍处于重大开发阶段
- 文档核心
  - 解释核心思想
  - 每部分如何工作，并如何与其他人交互

## 设计目标

- 离线体验（使用Service Worker离线缓存）
- 多线程(利用Worker)
- 









## 渲染store

- Render Cache
  - 旨在保存恢复特定视图的序列化版本，**主要用于性能目的**
  - 还可以包含虚拟文件

## 遥测(Telemetry)

- 遥测是一种远程服务，具有真实用户数据报告，这些报告可以用于进行决策制定

- **每个**胶囊都有自己的报告，提供各种各样的机会以细粒度的方式来观察应用程序的使用

- 报告包含

  - 每个面板的启动时间(每个胶囊都有自己的performance.timing API实例)
  - 每个胶囊的记忆(performance.memory API（仅限chrome）)
  - 滞后
    - 通信滞后于胶囊
    - 时间循环滞后(在Gecko中可用，需要找到一种方法将其暴露给我们的遥测报告)

  - 各种其他报告
    - 热图
    - 胶囊使用次数
    - ...

- 正确使用报告合一做出各种类型的决策
  - 营销、用户体验、用户界面测试结果
  - 调查新框架时的测试结果
  - 阻止/批准决定
  - 先为一小部分用户提供一个新的功能/特性来进行QA验证

## 数据同步(Data Sync)

- 应用程序数据存在于设备智商，与远程服务器同步
- 远程传播之前，**首先在客户端进行加密处理**
- 任何Iirefox账户的应用程序均可以访问此远程服务器
- 加密Token源于Firefox帐户以便在多个设备之间共享
- **远程存储后端尚未定义。目前正在调查的一个建议是由云服务团队制作一个代理，提供HTTP API以抽象远程存储后端的特性。**

## 高级应用程序概述(High Level App Overview)

